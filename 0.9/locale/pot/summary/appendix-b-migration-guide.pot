msgid ""
msgstr ""
"Project-Id-Version: PyO3 user guide\n"
"POT-Creation-Date: 2025-12-16T11:33:45Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: en\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/migration.md:1
msgid "Appendix B: Migrating from older PyO3 versions"
msgstr ""

#: src/migration.md:2
msgid ""
"This guide can help you upgrade code through breaking changes from one PyO3 "
"version to the next. For a detailed list of all changes, see [CHANGELOG.md]"
"(https://github.com/PyO3/pyo3/blob/master/CHANGELOG.md)"
msgstr ""

#: src/migration.md:3
msgid "from 0.8.\\* to 0.9"
msgstr ""

#: src/migration.md:5
msgid "`#[new]` interface"
msgstr ""

#: src/migration.md:6
msgid ""
"[`PyRawObject`](https://docs.rs/pyo3/0.8.5/pyo3/type_object/struct."
"PyRawObject.html) is now removed and our syntax for constructors has changed."
msgstr ""

#: src/migration.md:9 src/migration.md:95 src/migration.md:122
#: src/migration.md:157
msgid "Before:"
msgstr ""

#: src/migration.md:23 src/migration.md:105 src/migration.md:129
#: src/migration.md:175
msgid "After:"
msgstr ""

#: src/migration.md:38
msgid ""
"Basically you can return `Self` or `Result<Self>` directly. For more, see "
"[the constructor section](https://pyo3.rs/master/class.html#constructor) of "
"this guide."
msgstr ""

#: src/migration.md:41
msgid "PyCell"
msgstr ""

#: src/migration.md:42
msgid ""
"PyO3 0.9 introduces [`PyCell`](https://pyo3.rs/master/doc/pyo3/pycell/struct."
"PyCell.html), which is a [`RefCell`](https://doc.rust-lang.org/std/cell/"
"struct.RefCell.html)\\-like object wrapper for ensuring Rust's rules "
"regarding aliasing of references are upheld. For more detail, see the [Rust "
"Book's section on Rust's rules of references](https://doc.rust-lang.org/book/"
"ch04-02-references-and-borrowing.html#the-rules-of-references)"
msgstr ""

#: src/migration.md:47
msgid ""
"For `#[pymethods]` or `#[pyfunction]`s, your existing code should continue "
"to work without any change. Python exceptions will automatically be raised "
"when your functions are used in a way which breaks Rust's rules of "
"references."
msgstr ""

#: src/migration.md:51
msgid "Here is an example."
msgstr ""

#: src/migration.md:73
msgid ""
"r\"\n"
"# try:\n"
"#    names.merge(names)\n"
"#    assert False, 'Unreachable'\n"
"# except RuntimeError as e:\n"
"#    isinstance(e, borrow_mut_err)\n"
"# \""
msgstr ""

#: src/migration.md:81
msgid ""
"`Names` has a `merge` method, which takes `&mut self` and another argument "
"of type `&mut Self`. Given this `#[pyclass]`, calling `names.merge(names)` "
"in Python raises a [`PyBorrowMutError`](https://pyo3.rs/master/doc/pyo3/"
"pycell/struct.PyBorrowMutError.html) exception, since it requires two "
"mutable borrows of `names`."
msgstr ""

#: src/migration.md:85
msgid ""
"However, for `#[pyproto]` and some functions, you need to manually fix the "
"code."
msgstr ""

#: src/migration.md:87
msgid "Object creation"
msgstr ""

#: src/migration.md:88
msgid ""
"In 0.8 object creation was done with `PyRef::new` and `PyRefMut::new`. In "
"0.9 these have both been removed. To upgrade code, please use [`PyCell::new`]"
"(https://pyo3.rs/master/doc/pyo3/pycell/struct.PyCell.html#method.new) "
"instead. If you need [`PyRef`](https://pyo3.rs/master/doc/pyo3/pycell/struct."
"PyRef.html) or [`PyRefMut`](https://pyo3.rs/master/doc/pyo3/pycell/struct."
"PyRefMut.html), just call `.borrow()` or `.borrow_mut()` on the newly-"
"created `PyCell`."
msgstr ""

#: src/migration.md:116
msgid "Object extraction"
msgstr ""

#: src/migration.md:117
msgid ""
"For `PyClass` types `T`, `&T` and `&mut T` no longer have [`FromPyObject`]"
"(https://docs.rs/pyo3/latest/pyo3/conversion/trait.FromPyObject.html) "
"implementations. Instead you should extract `PyRef<T>` or `PyRefMut<T>`, "
"respectively. If `T` implements `Clone`, you can extract `T` itself. In "
"addition, you can also extract `&PyCell<T>`, though you rarely need it."
msgstr ""

#: src/migration.md:138
msgid "\"c\""
msgstr ""

#: src/migration.md:139
msgid "\"c()\""
msgstr ""

#: src/migration.md:142
msgid "// extracted by cloning the object\n"
msgstr ""

#: src/migration.md:145
msgid ""
"// we need to drop obj_ref before we can extract a PyRefMut due to Rust's "
"rules of references\n"
msgstr ""

#: src/migration.md:151
msgid "`#[pyproto]`"
msgstr ""

#: src/migration.md:152
msgid ""
"Most of the arguments to methods in `#[pyproto]` impls require a "
"[`FromPyObject`](https://docs.rs/pyo3/latest/pyo3/conversion/trait."
"FromPyObject.html) implementation. So if your protocol methods take `&T` or "
"`&mut T` (where `T: PyClass`), please use [`PyRef`](https://pyo3.rs/master/"
"doc/pyo3/pycell/struct.PyRef.html) or [`PyRefMut`](https://pyo3.rs/master/"
"doc/pyo3/pycell/struct.PyRefMut.html) instead."
msgstr ""
