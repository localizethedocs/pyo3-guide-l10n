msgid ""
msgstr ""
"Project-Id-Version: PyO3 user guide\n"
"POT-Creation-Date: 2025-12-16T11:34:06Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/python-typing-hints.md:1
msgid "Typing and IDE hints for your Python package"
msgstr "為你的 Python 套件提供型別與 IDE 提示"

#: src/python-typing-hints.md:3
msgid ""
"PyO3 provides an easy to use interface to code native Python libraries in "
"Rust. The accompanying Maturin allows you to build and publish them as a "
"package. Yet, for a better user experience, Python libraries should provide "
"typing hints and documentation for all public entities, so that IDEs can "
"show them during development and type analyzing tools such as `mypy` can use "
"them to properly verify the code."
msgstr ""
"PyO3 提供易用介面，可用 Rust 撰寫原生 Python 函式庫。搭配的 Maturin 讓你能將"
"其建置並發布為套件。然而為了更好的使用體驗，Python 函式庫應為所有公開項目提供"
"型別提示與文件，讓 IDE 能在開發時顯示，並讓 `mypy` 等型別分析工具正確驗證程式"
"碼。"

#: src/python-typing-hints.md:5
msgid ""
"Currently the best solution for the problem is to manually maintain `*.pyi` "
"files and ship them along with the package."
msgstr "目前最佳的解法是手動維護 `*.pyi` 檔案，並與套件一同發布。"

#: src/python-typing-hints.md:7
msgid ""
"PyO3 is working on automated their generation. See the [type stub generation]"
"(type-stub.md) documentation for a description of the current state of "
"automated generation."
msgstr ""
"PyO3 正在進行自動產生的工作。請見[型別 stub 產生](type-stub.md)文件以了解目前"
"的自動產生狀態。"

#: src/python-typing-hints.md:9
msgid "Introduction to `pyi` files"
msgstr "`pyi` 檔案介紹"

#: src/python-typing-hints.md:11
msgid ""
"`pyi` files (an abbreviation for `Python Interface`) are called \"stub "
"files\" in most of the documentation related to them. A very good definition "
"of what it is can be found in [old MyPy documentation](https://github.com/"
"python/mypy/wiki/Creating-Stubs-For-Python-Modules):"
msgstr ""
"`pyi` 檔案（`Python Interface` 的縮寫）在相關文件中多被稱為「stub 檔案」。對"
"其定義可參考[舊版 MyPy 文件](https://github.com/python/mypy/wiki/Creating-"
"Stubs-For-Python-Modules)："

#: src/python-typing-hints.md:13
msgid ""
"A stubs file only contains a description of the public interface of the "
"module without any implementations."
msgstr "Stub 檔案只包含模組公開介面的描述，不包含任何實作。"

#: src/python-typing-hints.md:15
msgid ""
"There is also [extensive documentation on type stubs on the official Python "
"typing documentation](https://typing.readthedocs.io/en/latest/source/stubs."
"html)."
msgstr ""
"也可參考[官方 Python typing 文件中關於 type stubs 的完整說明](https://typing."
"readthedocs.io/en/latest/source/stubs.html)。"

#: src/python-typing-hints.md:17
msgid ""
"Most Python developers probably already encountered them when trying to use "
"their IDE's \"Go to Definition\" function on any builtin type. For example, "
"the definitions of a few standard exceptions look like this:"
msgstr ""
"多數 Python 開發者可能在對內建型別使用 IDE 的「前往定義」功能時就已遇過它們。"
"例如，幾個標準例外的定義如下："

#: src/python-typing-hints.md:40
msgid ""
"As we can see, those are not full definitions containing implementation, but "
"just a description of the interface. It is usually all that the user of the "
"library needs."
msgstr ""
"如你所見，這些並非包含實作的完整定義，而只是介面描述。這通常已足以滿足函式庫"
"使用者的需求。"

#: src/python-typing-hints.md:42
msgid "What do the PEPs say?"
msgstr "PEP 有什麼說法？"

#: src/python-typing-hints.md:44
msgid ""
"At the time of writing this documentation, the `pyi` files are referenced in "
"four PEPs."
msgstr "在撰寫本文件時，`pyi` 檔案在四份 PEP 中被引用。"

#: src/python-typing-hints.md:46
msgid ""
"[PEP8 - Style Guide for Python Code - #Function Annotations](https://www."
"python.org/dev/peps/pep-0008/#function-annotations) (last point) recommends "
"all third party library creators to provide stub files as the source of "
"knowledge about the package for type checker tools."
msgstr ""
"[PEP8 - Python 程式碼風格指南 - #Function Annotations](https://www.python."
"org/dev/peps/pep-0008/#function-annotations)（最後一點）建議所有第三方函式庫"
"作者提供 stub 檔案，作為型別檢查工具對套件的知識來源。"

#: src/python-typing-hints.md:48
msgid ""
"(...) it is expected that users of third party library packages may want to "
"run type checkers over those packages. For this purpose [PEP 484](https://"
"www.python.org/dev/peps/pep-0484) recommends the use of stub files: .pyi "
"files that are read by the type checker in preference of the corresponding ."
"py files. (...)"
msgstr ""
"（……）預期第三方函式庫的使用者可能會對這些套件執行型別檢查。為此，[PEP 484]"
"(https://www.python.org/dev/peps/pep-0484) 建議使用 stub 檔案：型別檢查器會優"
"先讀取 .pyi 檔案而不是對應的 .py 檔案。（……）"

#: src/python-typing-hints.md:50
msgid ""
"[PEP484 - Type Hints - #Stub Files](https://www.python.org/dev/peps/pep-0484/"
"#stub-files) defines stub files as follows."
msgstr ""
"[PEP484 - Type Hints - #Stub Files](https://www.python.org/dev/peps/pep-0484/"
"#stub-files) 對 stub 檔案的定義如下。"

#: src/python-typing-hints.md:52
msgid ""
"Stub files are files containing type hints that are only for use by the type "
"checker, not at runtime."
msgstr "Stub 檔案是只提供給型別檢查器使用、而非執行階段使用的型別提示檔案。"

#: src/python-typing-hints.md:54
msgid ""
"It contains a specification for them (highly recommended reading, since it "
"contains at least one thing that is not used in normal Python code) and also "
"some general information about where to store the stub files."
msgstr ""
"其中包含對 stub 檔案的規範（強烈建議閱讀，因為至少有一項是一般 Python 程式碼"
"不會用到的）以及關於存放位置的一般資訊。"

#: src/python-typing-hints.md:56
msgid ""
"[PEP561 - Distributing and Packaging Type Information](https://www.python."
"org/dev/peps/pep-0561/) describes in detail how to build packages that will "
"enable type checking. In particular it contains information about how the "
"stub files must be distributed in order for type checkers to use them."
msgstr ""
"[PEP561 - Distributing and Packaging Type Information](https://www.python."
"org/dev/peps/pep-0561/) 詳細描述如何建置能啟用型別檢查的套件，特別是如何散布 "
"stub 檔案以供型別檢查器使用。"

#: src/python-typing-hints.md:58
msgid ""
"[PEP560 - Core support for typing module and generic types](https://www."
"python.org/dev/peps/pep-0560/) describes the details on how Python's type "
"system internally supports generics, including both runtime behavior and "
"integration with static type checkers."
msgstr ""
"[PEP560 - Core support for typing module and generic types](https://www."
"python.org/dev/peps/pep-0560/) 描述了 Python 型別系統如何在內部支援泛型，包括"
"執行階段行為與靜態型別檢查器的整合。"

#: src/python-typing-hints.md:60
msgid "How to do it?"
msgstr "該怎麼做？"

#: src/python-typing-hints.md:62
msgid ""
"[PEP561](https://www.python.org/dev/peps/pep-0561/) recognizes three ways of "
"distributing type information:"
msgstr ""
"[PEP561](https://www.python.org/dev/peps/pep-0561/) 提出三種散布型別資訊的方"
"式："

#: src/python-typing-hints.md:64
msgid "`inline` - the typing is placed directly in source (`py`) files;"
msgstr "`inline` - 型別直接放在原始碼（`py`）檔案中；"

#: src/python-typing-hints.md:65
msgid ""
"`separate package with stub files` - the typing is placed in `pyi` files "
"distributed in their own, separate package;"
msgstr ""
"`separate package with stub files` - 型別放在 `pyi` 檔案中，並以獨立套件發"
"布；"

#: src/python-typing-hints.md:66
msgid ""
"`in-package stub files` - the typing is placed in `pyi` files distributed in "
"the same package as source files."
msgstr ""
"`in-package stub files` - 型別放在 `pyi` 檔案中，並與原始碼同套件發布。"

#: src/python-typing-hints.md:68
msgid ""
"The first way is tricky with PyO3 since we do not have `py` files. When it "
"has been investigated and necessary changes are implemented, this document "
"will be updated."
msgstr ""
"第一種方式在 PyO3 中較困難，因為我們沒有 `py` 檔案。待完成研究與必要改動後，"
"本文件將更新。"

#: src/python-typing-hints.md:70
msgid ""
"The second way is easy to do, and the whole work can be fully separated from "
"the main library code. The example repo for the package with stub files can "
"be found in [PEP561 references section](https://www.python.org/dev/peps/"
"pep-0561/#references): [Stub package repository](https://github.com/ethanhs/"
"stub-package)"
msgstr ""
"第二種方式很容易完成，而且可與主函式庫程式碼完全分離。帶有 stub 檔案的套件範"
"例可在 [PEP561 參考資料](https://www.python.org/dev/peps/pep-0561/"
"#references)中找到：[Stub package repository](https://github.com/ethanhs/"
"stub-package)"

#: src/python-typing-hints.md:72
msgid "The third way is described below."
msgstr "第三種方式如下所述。"

#: src/python-typing-hints.md:74
msgid "Including `pyi` files in your PyO3/Maturin build package"
msgstr "在 PyO3/Maturin 建置套件中包含 `pyi` 檔案"

#: src/python-typing-hints.md:76
msgid ""
"When source files are in the same package as stub files, they should be "
"placed next to each other. We need a way to do that with Maturin. Also, in "
"order to mark our package as typing-enabled we need to add an empty file "
"named `py.typed` to the package."
msgstr ""
"當原始碼與 stub 檔案位於同一套件時，應該把它們放在彼此相鄰的位置。我們需要能"
"用 Maturin 達成這點的方法。此外，為了標示套件具有型別資訊，我們需要在套件中新"
"增一個名為 `py.typed` 的空檔案。"

#: src/python-typing-hints.md:78
msgid "If you do not have other Python files"
msgstr "若你沒有其他 Python 檔案"

#: src/python-typing-hints.md:80
msgid ""
"If you do not need to add any other Python files apart from `pyi` to the "
"package, Maturin provides a way to do most of the work for you. As "
"documented in the [Maturin Guide](https://github.com/PyO3/maturin/#mixed-"
"rustpython-projects), the only thing you need to do is to create a stub file "
"for your module named `<module_name>.pyi` in your project root and Maturin "
"will do the rest."
msgstr ""
"若除了 `pyi` 之外不需要加入其他 Python 檔案，Maturin 提供了方法替你完成大部分"
"工作。如同 [Maturin 指南](https://github.com/PyO3/maturin/#mixed-rustpython-"
"projects) 所述，你只需在專案根目錄建立名為 `<module_name>.pyi` 的 stub 檔案，"
"其餘由 Maturin 處理。"

#: src/python-typing-hints.md:91
msgid ""
"For an example `pyi` file see the [`my_project.pyi` content](#my_projectpyi-"
"content) section."
msgstr ""
"如需 `pyi` 範例檔案，請見 [`my_project.pyi` 內容](#my_projectpyi-content) 一"
"節。"

#: src/python-typing-hints.md:93
msgid "If you need other Python files"
msgstr ""

#: src/python-typing-hints.md:95
msgid ""
"If you need to add other Python files apart from `pyi` to the package, you "
"can do it also, but that requires some more work. Maturin provides an easy "
"way to add files to a package ([documentation](https://github.com/PyO3/"
"maturin/blob/0dee40510083c03607834c821eea76964140a126/Readme.md#mixed-"
"rustpython-projects)). You just need to create a folder with the name of "
"your module next to the `Cargo.toml` file (for customization see "
"documentation linked above)."
msgstr ""

#: src/python-typing-hints.md:97
msgid "The folder structure would be:"
msgstr ""

#: src/python-typing-hints.md:113
msgid ""
"Let's go a little bit more into detail regarding the files inside the "
"package folder."
msgstr ""

#: src/python-typing-hints.md:115
msgid "`__init__.py` content"
msgstr ""

#: src/python-typing-hints.md:117
msgid ""
"As we now specify our own package content, we have to provide the `__init__."
"py` file, so the folder is treated as a package and we can import things "
"from it. We can always use the same content that Maturin creates for us if "
"we do not specify a Python source folder. For PyO3 bindings it would be:"
msgstr ""

#: src/python-typing-hints.md:123
msgid ""
"That way everything that is exposed by our native module can be imported "
"directly from the package."
msgstr ""

#: src/python-typing-hints.md:125
msgid "`py.typed` requirement"
msgstr ""

#: src/python-typing-hints.md:127
msgid "As stated in [PEP561](https://www.python.org/dev/peps/pep-0561/):"
msgstr ""

#: src/python-typing-hints.md:128
msgid ""
"Package maintainers who wish to support type checking of their code MUST add "
"a marker file named py.typed to their package supporting typing. This marker "
"applies recursively: if a top-level package includes it, all its sub-"
"packages MUST support type checking as well."
msgstr ""

#: src/python-typing-hints.md:130
msgid ""
"If we do not include that file, some IDEs might still use our `pyi` files to "
"show hints, but the type checkers might not. MyPy will raise an error in "
"this situation:"
msgstr ""

#: src/python-typing-hints.md:132
msgid ""
"```text\n"
"error: Skipping analyzing \"my_project\": found module but no type hints or "
"library stubs\n"
"```"
msgstr ""

#: src/python-typing-hints.md:136
msgid "The file is just a marker file, so it should be empty."
msgstr ""

#: src/python-typing-hints.md:138
msgid "`my_project.pyi` content"
msgstr ""

#: src/python-typing-hints.md:140
msgid ""
"Our module stub file. This document does not aim at describing how to write "
"them, since you can find a lot of documentation on it, starting from the "
"already quoted [PEP484](https://www.python.org/dev/peps/pep-0484/#stub-"
"files)."
msgstr ""

#: src/python-typing-hints.md:142
msgid "The example can look like this:"
msgstr ""

#: src/python-typing-hints.md:146
msgid ""
"\"\"\"\n"
"    A class representing a car.\n"
"\n"
"    :param body_type: the name of body type, e.g. hatchback, sedan\n"
"    :param horsepower: power of the engine in horsepower\n"
"    \"\"\""
msgstr ""

#: src/python-typing-hints.md:155
msgid "'Car'"
msgstr ""

#: src/python-typing-hints.md:156
msgid ""
"\"\"\"\n"
"        Creates a Car based on unique name\n"
"\n"
"        :param name: model name of a car to be created\n"
"        :return: a Car instance with default data\n"
"        \"\"\""
msgstr ""

#: src/python-typing-hints.md:164
msgid ""
"\"\"\"\n"
"        Gets the best color for the car.\n"
"\n"
"        :return: the name of the color our great algorithm thinks is the "
"best for this car\n"
"        \"\"\""
msgstr ""

#: src/python-typing-hints.md:171
msgid "Supporting Generics"
msgstr ""

#: src/python-typing-hints.md:173
msgid ""
"Type annotations can also be made generic in Python. They are useful for "
"working with different types while maintaining type safety. Usually, generic "
"classes inherit from the `typing.Generic` metaclass."
msgstr ""

#: src/python-typing-hints.md:177
msgid ""
"Take for example the following `.pyi` file that specifies a `Car` that can "
"accept multiple types of wheels:"
msgstr ""

#: src/python-typing-hints.md:183
msgid "'W'"
msgstr ""

#: src/python-typing-hints.md:193
msgid ""
"This way, the end-user can specify the type with variables such as `truck: "
"Car[SteelWheel] = ...` and `f1_car: Car[AlloyWheel] = ...`."
msgstr ""

#: src/python-typing-hints.md:196
msgid ""
"There is also a special syntax for specifying generic types in Python 3.12+:"
msgstr ""

#: src/python-typing-hints.md:205
msgid "Runtime Behaviour"
msgstr ""

#: src/python-typing-hints.md:207
msgid ""
"Stub files (`pyi`) are only useful for static type checkers and ignored at "
"runtime. Therefore, PyO3 classes do not inherit from `typing.Generic` even "
"if specified in the stub files."
msgstr ""

#: src/python-typing-hints.md:210
msgid ""
"This can cause some runtime issues, as annotating a variable like `f1_car: "
"Car[AlloyWheel] = ...` can make Python call magic methods that are not "
"defined."
msgstr ""

#: src/python-typing-hints.md:213
msgid ""
"To overcome this limitation, implementers can pass the `generic` parameter "
"to `pyclass` in Rust:"
msgstr ""

#: src/python-typing-hints.md:219
msgid "Advanced Users"
msgstr ""

#: src/python-typing-hints.md:221
msgid ""
"`#[pyclass(generic)]` implements a very simple runtime behavior that accepts "
"any generic argument. Advanced users can opt to manually implement "
"[`__class_geitem__`](https://docs.python.org/3/reference/datamodel."
"html#emulating-generic-types) for the generic class to have more control."
msgstr ""

#: src/python-typing-hints.md:239
msgid ""
"Note that [`pyo3::types::PyGenericAlias`](https://pyo3.rs/main/doc/pyo3/"
"types/struct.pygenericalias) can be helfpul when implementing "
"`__class_geitem__` as it can create [`types.GenericAlias`](https://docs."
"python.org/3/library/types.html#types.GenericAlias) objects from Rust."
msgstr ""
